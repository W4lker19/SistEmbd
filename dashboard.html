<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Room Control System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Smart Room Control System</h1>
            <div>
                <span id="connection-status" class="connection-status disconnected">Connecting...</span>
            </div>
        </div>

        <div class="room-status">
            <h2>Room Status</h2>
            <div class="status-grid">
                <div class="status-box">
                    <div class="status-icon" id="light-icon">üí°</div>
                    <div class="status-value" id="light-status">Unknown</div>
                    <div class="status-label">Light</div>
                    <div class="status-controls">
                        <button id="light-on" class="control-btn">Turn On</button>
                        <button id="light-off" class="control-btn">Turn Off</button>
                    </div>
                </div>
                <div class="status-box">
                    <div class="status-icon" id="door-icon">üö™</div>
                    <div class="status-value" id="door-status">Unknown</div>
                    <div class="status-label">Door</div>
                </div>
                <div class="status-box">
                    <div class="status-icon" id="presence-icon">üë§</div>
                    <div class="status-value" id="presence-status">Unknown</div>
                    <div class="status-label">Presence</div>
                </div>
                <div class="status-box">
                    <div class="status-icon" id="luminosity-icon">‚òÄÔ∏è</div>
                    <div class="status-value" id="luminosity-value">Unknown</div>
                    <div class="status-label">Luminosity</div>
                </div>
                <!-- New status box for Manual Override -->
                <div class="status-box">
                    <div class="status-icon" id="override-icon">üîí</div>
                    <div class="status-value" id="override-status">OFF</div>
                    <div class="status-label">Manual Override</div>
                    <div class="status-controls">
                        <button id="toggle-override" class="control-btn">Enable Override</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="users-panel">
            <h2>Users in Room</h2>
            <div id="users-list" class="users-list">
                <div class="no-users">No users detected</div>
            </div>
        </div>

        <div class="stats">
            <h2>System Statistics</h2>
            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-value" id="system-uptime">0s</div>
                    <div class="stat-label">Uptime</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="last-update">Never</div>
                    <div class="stat-label">Last Update</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="arduino-status">Disconnected</div>
                    <div class="stat-label">Arduino Status</div>
                </div>
            </div>
        </div>

        <div class="activity-log">
            <div class="log-header">
                <h2>Activity Log</h2>
                <div class="log-controls">
                    <button id="clear-log" class="control-btn">Clear Log</button>
                    <button id="auto-scroll" class="control-btn auto-scroll">Auto-scroll: ON</button>
                </div>
            </div>
            <div class="console" id="console">
                <div class="log-entry">Connecting to live data stream...</div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='dashboard.js') }}"></script>
</body>
</html>
